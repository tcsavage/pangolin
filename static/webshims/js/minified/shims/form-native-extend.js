jQuery.webshims.register("form-extend",function(c,b,l,m,j,f){l=l.Modernizr;j=l.inputtypes;if(l.formvalidation&&!b.bugs.bustedValidity){var n=b.inputTypes,t={};b.addInputType=function(a,b){n[a]=b};b.addValidityRule=function(a,b){t[a]=b};b.addValidityRule("typeMismatch",function(a,b,d,c){if(""===b)return!1;c=c.typeMismatch;if(!("type"in d))d.type=(a[0].getAttribute("type")||"").toLowerCase();n[d.type]&&n[d.type].mismatch&&(c=n[d.type].mismatch(b,a));return c});var i=f.overrideMessages,q=!j.number||
!j.time||!j.range||i,v="customError,typeMismatch,rangeUnderflow,rangeOverflow,stepMismatch,tooLong,patternMismatch,valueMissing,valid".split(","),f=i?["value","checked"]:["value"],g=[],o=function(a,b){if(a){var d=(a.getAttribute&&a.getAttribute("type")||a.type||"").toLowerCase();if(i||n[d])i&&!b&&"radio"==d&&a.name?c(m.getElementsByName(a.name)).each(function(){c.prop(this,"validity")}):c.prop(a,"validity")}},p={};["input","textarea","select"].forEach(function(a){var h=b.defineNodeNameProperty(a,
"setCustomValidity",{prop:{value:function(d){var d=d+"",k="input"==a?c(this).getNativeElement()[0]:this;h.prop._supvalue.call(k,d);b.bugs.validationMessage&&b.data(k,"customvalidationMessage",d);q&&(b.data(k,"hasCustomError",!!d),o(k))}}});p[a]=h.prop._supvalue});if(q||i)f.push("min"),f.push("max"),f.push("step"),g.push("input");i&&(f.push("required"),f.push("pattern"),g.push("select"),g.push("textarea"));if(q){var r;g.forEach(function(a){var h=b.defineNodeNameProperty(a,"validity",{prop:{get:function(){if(!r){var d=
"input"==a?c(this).getNativeElement()[0]:this,k=h.prop._supget.call(d);if(!k)return k;var e={};v.forEach(function(a){e[a]=k[a]});if(!c.prop(d,"willValidate"))return e;r=!0;var f=c(d),g={type:(d.getAttribute&&d.getAttribute("type")||"").toLowerCase(),nodeName:(d.nodeName||"").toLowerCase()},l=f.val(),m=!!b.data(d,"hasCustomError"),j;r=!1;e.customError=m;if(e.valid&&e.customError)e.valid=!1;else if(!e.valid){var o=!0;c.each(e,function(a,b){if(b)return o=!1});if(o)e.valid=!0}c.each(t,function(c,h){e[c]=
h(f,l,g,e);if(e[c]&&(e.valid||!j)&&(i||n[g.type]&&n[g.type].mismatch))p[a].call(d,b.createValidationMessage(d,c)),e.valid=!1,j=!0});e.valid?(p[a].call(d,""),b.data(d,"hasCustomError",!1)):i&&!j&&!m&&c.each(e,function(c,e){if("valid"!==c&&e)return p[a].call(d,b.createValidationMessage(d,c)),!1});return e}},writeable:!1}})});f.forEach(function(a){b.onNodeNamesPropertyModify(g,a,function(){o(this)})});if(m.addEventListener){var s;m.addEventListener("change",function(a){clearTimeout(s);o(a.target)},!0);
m.addEventListener("input",function(a){clearTimeout(s);s=setTimeout(function(){o(a.target)},290)},!0)}var u=g.join(",");b.addReady(function(a,b){c(u,a).add(b.filter(u)).each(function(){c.prop(this,"validity")})});i&&b.ready("DOM form-message",function(){b.activeLang({register:"form-core",callback:function(){c("input, select, textarea").getNativeElement().each(function(){if(!b.data(this,"hasCustomError")){var a=this,h=c.prop(a,"validity")||{valid:!0},d;h.valid||(d=(a.nodeName||"").toLowerCase(),c.each(h,
function(c,e){if("valid"!==c&&e)return p[d].call(a,b.createValidationMessage(a,c)),!1}))}})}})})}b.defineNodeNameProperty("input","type",{prop:{get:function(){var a=(this.getAttribute("type")||"").toLowerCase();return b.inputTypes[a]?a:this.type}}});l.input.list&&!(c("<datalist><select><option></option></select></datalist>").prop("options")||[]).length&&b.defineNodeNameProperty("datalist","options",{prop:{writeable:!1,get:function(){var a=this.options||[];if(!a.length){var b=c("select",this);if(b[0]&&
b[0].options&&b[0].options.length)a=b[0].options}return a}}})}});
